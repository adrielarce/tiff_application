(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),i=a(15),r=a.n(i),l=(a(92),a(69)),s=a(70),c=a(85),u=a(71),m=a(86),h=(a(93),a(94),a(30)),d=a(72),f=a.n(d),v=a(74),p=a.n(v),g=a(29),b=a.n(g);var y=Object(h.withStyles)({root:{flexGrow:1}})(function(e){var t=e.classes;return o.a.createElement("div",{className:t.root},o.a.createElement(f.a,{position:"fixed"},o.a.createElement(p.a,{className:"appbar"},o.a.createElement("img",{src:"https://www.tiff.net/img/logo-black.png",alt:"tiff_logo",width:"8%",className:"logo"}),o.a.createElement(b.a,{variant:"h6"},"MOVIE SPOTLIGHT 2019"))))});a(160);var w=Object(h.withStyles)({root:{flexGrow:1}})(function(){return o.a.createElement("div",{className:"footer"},o.a.createElement("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/408x161-powered-by-rectangle-blue-10d3d41d2a0af9ebcb85f7fb62ffb6671c15ae8ea9bc82a2c6941f223143409e.png",alt:"tmdb_logo",className:"logo",width:"12%"}))}),E=a(75),_=a.n(E),k=a(28),O=a.n(k),N=a(76),M=a.n(N),S=a(77),j=a.n(S),I=a(38),C=a.n(I),D=a(78),B=a.n(D),A=a(79),P=a.n(A),L=a(80),x=a.n(L),F=a(84),G=a.n(F),T=a(82),R=a.n(T),U=a(83),q=a.n(U),H=a(81),J=a.n(H),V="944796b020baf6db54206d5d01bc1ddc",W=1,$=24,z=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleOpen=function(t){e.fetchMovieDetails(t),e.setState({modalOpen:!0})},e.handleClose=function(){e.setState({modalOpen:!1})},e.state={numberOfPages:0,moviesArray:[],currentMovie:0,showButton:!0,modalOpen:!1},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getNumOfPages",value:function(){var e=this,t="https://api.themoviedb.org/3/discover/movie?api_key=".concat(V,"&language=en-US&sort_by=release_date.asc&include_adult=false&include_video=false&primary_release_year=2019");fetch(t).then(function(e){return e.json()}).then(function(t){e.setState({numberOfPages:t.total_pages})})}},{key:"fetchMovieList",value:function(e,t){if(W>=this.state.numberOfPages)return this.setState({showButton:!1}),void($=0);if($>this.state.numberOfPages)return $=this.state.numberOfPages,this.setState({showButton:!1}),void this.fetchMovieList(W,$);for(var a=e;a<=t;a++){var n="https://api.themoviedb.org/3/discover/movie?api_key=".concat(V,"&language=en-US&sort_by=release_date.asc&include_adult=false&page=").concat(a,"&include_video=false&primary_release_year=2019");this.makeFetchRequest(n)}W+=24,$+=24}},{key:"sleepFor",value:function(e){for(var t=(new Date).getTime();(new Date).getTime()<t+e;);}},{key:"makeFetchRequest",value:function(e){var t=this;fetch(e).then(function(e){return e.json()}).then(function(e){t.setState({moviesArray:t.state.moviesArray.concat(e.results.filter(function(e){return e.popularity>=10}))})})}},{key:"fetchMovieDetails",value:function(e){var t=this;console.log("Fetching movie with ID: "+e);var a="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(V,"&language=en-US");fetch(a).then(function(e){return e.json()}).then(function(e){t.setState({currentMovie:e})})}},{key:"getImageID",value:function(e,t){return null!=e.backdrop_path?t=e.backdrop_path.split(".",1):null!=e.poster_path&&null==e.backdrop_path?t=e.poster_path.split(".",1):null==e.backdrop_path&&null==e.poster_path&&(t="hello"),t}},{key:"componentDidMount",value:function(){console.log("Component Mounted!"),this.getNumOfPages(),this.fetchMovieDetails(0)}},{key:"showLoadButton",value:function(){var e=this;if(this.state.showButton)return o.a.createElement("button",{type:"button",className:"loadButton",onClick:function(t){return e.fetchMovieList(W,$)}},"LOAD MOVIES")}},{key:"render",value:function(){var e,t,a=this,n=this.state.currentMovie.runtime?this.state.currentMovie.runtime+" mins":"N/A",i=this.state.currentMovie.genres?this.state.currentMovie.genres:"N/A",r=[];for(var l in i)r.push(i[l].name);return o.a.createElement("div",{className:"App"},o.a.createElement("header",null,o.a.createElement(y,null)),o.a.createElement("body",{className:"body"},o.a.createElement(O.a,{className:"paper",elevation:3,height:"100%",justify:"center"},o.a.createElement(_.a,{cellHeight:180,className:"gridlist",cols:4,spacing:10},this.state.moviesArray.map(function(n){return o.a.createElement(M.a,{key:n.id,cols:1,className:"tiles"},e=a.getImageID(n,e),t="https://image.tmdb.org/t/p/original"+e+".svg",o.a.createElement("img",{src:t,alt:n.id+"_img",className:"movieIMG"}),o.a.createElement(j.a,{className:"tilebar",title:n.original_title,actionIcon:o.a.createElement(B.a,{className:"icon",color:"secondary",onClick:function(e){return a.handleOpen(n.id)}},o.a.createElement(P.a,null))}))})),this.showLoadButton())),o.a.createElement(w,null),o.a.createElement(x.a,{className:"dialogcontainer",open:this.state.modalOpen,onClose:this.handleClose,"aria-labelledby":"responsive-dialog-title"},o.a.createElement(J.a,{className:"dialogtitle"},this.state.currentMovie.original_title,o.a.createElement("br",null),o.a.createElement("span",{className:"tagline"},this.state.currentMovie.tagline||"")),o.a.createElement(R.a,null,o.a.createElement(q.a,{className:"dialogtext"},this.state.currentMovie.overview," ",o.a.createElement("br",null),o.a.createElement("br",null),"Genre: ",r.toString()," ",o.a.createElement("br",null),"Runtime: ",n)),o.a.createElement(G.a,null,o.a.createElement(C.a,{onClick:this.handleClose,color:"primary",autoFocus:!0},"Close"))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},87:function(e,t,a){e.exports=a(217)},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.f40a1604.chunk.js.map